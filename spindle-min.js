!function(a,b){"function"==typeof define&&define.amd?define(["underscore"],function(a){return b({underscore:a})}):a.spindle={Logger:b({underscore:a._})}}(this,function(a){var b,c,d;return function(a){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m=b&&b.split("/"),n=s.map,o=n&&n["*"]||{};if(a&&"."===a.charAt(0))if(b){for(m=m.slice(0,m.length-1),a=m.concat(a.split("/")),j=0;j<a.length;j+=1)if(l=a[j],"."===l)a.splice(j,1),j-=1;else if(".."===l){if(1===j&&(".."===a[2]||".."===a[0]))break;j>0&&(a.splice(j-1,2),j-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((m||o)&&n){for(c=a.split("/"),j=c.length;j>0;j-=1){if(d=c.slice(0,j).join("/"),m)for(k=m.length;k>0;k-=1)if(e=n[m.slice(0,k).join("/")],e&&(e=e[d])){f=e,g=j;break}if(f)break;!h&&o&&o[d]&&(h=o[d],i=j)}!f&&h&&(f=h,g=i),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function g(b,c){return function(){return n.apply(a,v.call(arguments,0).concat([b,c]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(b){if(e(r,b)){var c=r[b];delete r[b],t[b]=!0,m.apply(a,c)}if(!e(q,b)&&!e(t,b))throw new Error("No "+b);return q[b]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(b,c,d,f){var h,k,l,m,n,s,u=[],v=typeof d;if(f=f||b,"undefined"===v||"function"===v){for(c=!c.length&&d.length?["require","exports","module"]:c,n=0;n<c.length;n+=1)if(m=o(c[n],f),k=m.f,"require"===k)u[n]=p.require(b);else if("exports"===k)u[n]=p.exports(b),s=!0;else if("module"===k)h=u[n]=p.module(b);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(b+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=d?d.apply(q[b],u):void 0,b&&(h&&h.exports!==a&&h.exports!==q[b]?q[b]=h.exports:l===a&&s||(q[b]=l))}else b&&(q[b]=d)},b=c=n=function(b,c,d,e,f){return"string"==typeof b?p[b]?p[b](c):j(o(b,c).f):(b.splice||(s=b,c.splice?(b=c,c=d,d=null):b=a),c=c||function(){},"function"==typeof d&&(d=e,e=f),e?m(a,b,c,d):setTimeout(function(){m(a,b,c,d)},4),n)},n.config=function(a){return s=a,s.deps&&n(s.deps,s.callback),n},b._defined=q,d=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},d.amd={jQuery:!0}}(),d("../../vendor/almond/almond",function(){}),function(){d("spindle/levels",["require","underscore"],function(a){var b,c;return c=a("underscore"),b=function(){function a(){}return a.levels={CRITICAL:50,ERROR:40,WARNING:30,INFO:20,DEBUG:10,NOTSET:0},a.getLevelName=function(b){return c.invert(a.levels)[b]},a}()})}.call(this),function(){d("spindle/handlers/base",["require","../levels"],function(a){var b,c;return c=a("../levels"),b=function(){function a(){}return a.prototype.level=c.levels.NOTSET,a.prototype.handle=function(a){return a.level>=this.level?this.emit(a):void 0},a}()})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].slice;d("spindle/handlers/consolehandler",["require","underscore","./base","../levels"],function(a){var d,e,f,g;return g=a("underscore"),e=a("./base"),f=a("../levels"),d=function(a){function d(){null==d.useBind&&(d.useBind=this.checkForBind()),this.mappings[f.levels.CRITICAL]="error",this.mappings[f.levels.ERROR]="error",this.mappings[f.levels.WARNING]="warn",this.mappings[f.levels.INFO]="info",this.mappings[f.levels.DEBUG]="log"}return b(d,a),d.useBind=void 0,d.prototype.stream=window.console,d.prototype.mappings={},d.prototype.checkForBind=function(){return g(this.stream.log.bind).isFunction()},d.prototype.getMethodForLevel=function(a){var b;return null!=(b=this.mappings[a])?b:"log"},d.prototype.emit=function(a){var b,e,f;return e=this.getMethodForLevel(a.level),b=g(a.messages).toArray(),b.splice(0,0,"["+a.name+"]"),d.useBind?(f=this.stream[e]).bind.apply(f,[this.stream].concat(c.call(b))):this.stream[e](b)},d}(e)})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};d("spindle/logger",["require","underscore","./handlers/consolehandler","./levels"],function(a){var c,d,e,f,g,h;return h=a("underscore"),c=a("./handlers/consolehandler"),d=a("./levels"),e=function(){function a(b,e){this.name=b,this.returnFirstHandler=null!=e?e:!0,a._instances[this.name]=this,this.level=d.levels.NOTSET,this.handlers=[],this.addHandler(new c)}return a.levels=d.levels,a.getLevelName=d.getLevelName,a._instances={},a._fixupParents=function(a){var b,c,d,e,f;for(d=a.name,b=d.lastIndexOf("."),e=null;b>0&&!e;)f=d.slice(0,b),(c=this._instances[f])?e=c:c=null,b=f.lastIndexOf(".");return e||(e=this.root),a.parent=e},a.get=function(b,c){var d;return b?((d=this._instances[b])&&null!=d?d.returnFirstHandler=c:d=function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(a,arguments,function(){}),this._fixupParents(d),d):this.root},a.prototype.disabledLevel=0,a.prototype.addHandler=function(a){return this.handlers.push(a)},a.prototype.handle=function(a){var b;return this.returnFirstHandler?(b=h(this.handlers).first().handle(a),this.callHandlers(a,h.rest(this.handlers)),h(b).isFunction()||(b=this.noop),b):(this.callHandlers(a),this.noop)},a.prototype.callHandlers=function(a,b){var c,d,e,f,g;for(null==b&&(b=this.handlers),g=[],e=0,f=b.length;f>e;e++)c=b[e],g.push("function"==typeof(d=c.handle(a))?d():void 0);return g},a.prototype.setLevel=function(a){this.level=a},a.prototype.isEnabledFor=function(a){return this.disabledLevel>=a?!1:a>=this.getEffectiveLevel()},a.prototype.getEffectiveLevel=function(){var a;for(a=this;a;){if(a.level)return a.level;a=a.parent}return d.levels.NOTSET},a.prototype.noop=function(){},a.prototype._log=function(a,b){var c;if(!this.isEnabledFor(a))return this.noop;try{return this.handle({name:this.name,level:a,messages:b})}catch(d){return c=d,"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn(""+c),this.noop}},a.prototype.debug=function(){return this._log(d.levels.DEBUG,arguments)},a.prototype.info=function(){return this._log(d.levels.INFO,arguments)},a.prototype.warning=function(){return this._log(d.levels.WARNING,arguments)},a.prototype.error=function(){return this._log(d.levels.ERROR,arguments)},a.prototype.critical=function(){return this._log(d.levels.CRITICAL,arguments)},a.prototype.log=function(){return this.debug.apply(this,arguments)},a}(),f=function(a){function c(){c.__super__.constructor.call(this,"root")}return b(c,a),c}(e),g=new f,g.setLevel(d.levels.WARNING),e.root=g,e})}.call(this),function(){d("spindle/compat",["require","./logger"],function(a){var b,c;return b=a("./logger"),window.g0j0||(window.g0j0={}),(c=window.g0j0).logging||(c.logging={}),function(a){var c,d,e;a.getLogger=function(a){return b.get(a)},e=b.levels;for(c in e)d=e[c],a[c]=d;return a.configure||(a.configure=function(){}),a.configure()}(window.g0j0.logging)})}.call(this),function(){d("spindle/main",["require","./logger","./compat"],function(a){var b;return b=a("./logger"),a("./compat"),b})}.call(this),d("underscore",function(){return a.underscore}),c("spindle/main")});